{% comment %}
  GK Tour Dates — shared static section (rendered once in layout/theme.liquid).
  Blocks hold ALL date data; editing here updates both homepage and dates page.

  Template detection sets render mode:
    template.name == 'index'     → home style (.gk-tour-dates / .gk-date-row), initial 3
    template.suffix == 'dates'   → page style (.gk-dates / .gk-date),           initial 10
{% endcomment %}

{%- liquid
  assign today_ymd         = 'now' | date: '%Y-%m-%d'
  assign today_midnight_ts = today_ymd | date: '%s' | plus: 0

  if template.name == 'index'
    assign is_home         = true
    assign initial_visible = 3
    assign reveal_step     = 3
  else
    assign is_home         = false
    assign initial_visible = 10
    assign reveal_step     = 10
  endif
-%}

{%- comment -%}Pre-count upcoming dates for show-more threshold{%- endcomment -%}
{%- assign upcoming_count = 0 -%}
{%- for block in section.blocks -%}
  {%- if block.type == 'date' -%}
    {%- assign _raw = block.settings.date | strip -%}
    {%- if _raw != blank -%}
      {%- assign _ts = _raw | date: '%s' | plus: 0 -%}
      {%- if _ts == 0 or _ts >= today_midnight_ts -%}
        {%- assign upcoming_count = upcoming_count | plus: 1 -%}
      {%- endif -%}
    {%- endif -%}
  {%- endif -%}
{%- endfor -%}

{%- if is_home -%}

  {%- comment -%}─── HOME STYLE ──────────────────────────────────────────────{%- endcomment -%}
  <section class="gk-tour-dates gk-tour-dates--reveal" data-section-id="{{ section.id }}">
    <div class="gk-tour-dates__inner">

      {% if section.settings.eyebrow != blank %}
        <div class="gk-tour-dates__eyebrow">{{ section.settings.eyebrow }}</div>
      {% endif %}

      {% if section.settings.heading != blank %}
        <h2 class="gk-tour-dates__heading">{{ section.settings.heading }}</h2>
      {% endif %}

      {% if section.settings.subtext != blank %}
        <div class="gk-tour-dates__subtext">{{ section.settings.subtext }}</div>
      {% endif %}

      <div class="gk-tour-dates__list" role="list">
        {%- assign render_index = 0 -%}
        {%- for block in section.blocks -%}
          {%- if block.type == 'date' -%}
            {%- assign raw_date = block.settings.date | strip -%}
            {%- if raw_date != blank -%}
              {%- assign show_ts = raw_date | date: '%s' | plus: 0 -%}
              {%- assign is_upcoming = false -%}
              {%- if show_ts == 0 or show_ts >= today_midnight_ts -%}
                {%- assign is_upcoming = true -%}
              {%- endif -%}
              {%- if is_upcoming -%}
                {%- assign display_date = raw_date | date: '%B %-d, %Y' -%}
                {%- if display_date == blank -%}{%- assign display_date = raw_date -%}{%- endif -%}
                {%- assign _bv = block.settings.venue | default: '' -%}
                {%- assign _bd = block.settings.descriptor | default: '' -%}
                {%- assign _bc = block.settings.city | default: '' -%}
                {%- assign _bs = block.settings.state | default: '' -%}
                {%- if _bc != blank and _bs != blank -%}
                  {%- assign _bcity = _bc | append: ', ' | append: _bs -%}
                {%- elsif _bc != blank -%}
                  {%- assign _bcity = _bc -%}
                {%- else -%}
                  {%- assign _bcity = _bs -%}
                {%- endif -%}
                {%- assign _bu   = block.settings.ticket_url | default: '' -%}
                {%- assign _sold = block.settings.sold_out -%}
                <div class="gk-date-row" role="listitem" data-date-row data-index="{{ render_index }}" {{ block.shopify_attributes }}>
                  <div class="gk-date-row__date">{{ display_date }}</div>
                  <div class="gk-date-row__details">
                    {%- if _bv != blank -%}<div class="gk-date-row__venue">{{ _bv }}</div>{%- endif -%}
                    {%- if _bd != blank -%}<div class="gk-date-row__descriptor">{{ _bd }}</div>{%- endif -%}
                    {%- if _bcity != blank -%}<div class="gk-date-row__city">{{ _bcity }}</div>{%- endif -%}
                  </div>
                  <div class="gk-date-row__cta">
                    {%- if _sold -%}
                      <span class="gk-date-row__soldout" aria-label="Sold out">SOLD OUT</span>
                    {%- elsif _bu != blank -%}
                      <a class="gk-date-row__btn" href="{{ _bu }}" target="_blank" rel="noopener">GET TICKETS</a>
                    {%- else -%}
                      <span class="gk-date-row__soldout" aria-label="Tickets unavailable">TBA</span>
                    {%- endif -%}
                  </div>
                </div>
                {%- assign render_index = render_index | plus: 1 -%}
              {%- endif -%}
            {%- endif -%}
          {%- endif -%}
        {%- endfor -%}
      </div>

      {% if upcoming_count == 0 %}
        <div class="gk-tour-dates__empty">{{ section.settings.empty_text }}</div>
      {% endif %}

      {% if upcoming_count > initial_visible %}
        <div class="gk-tour-dates__more-wrap">
          <button type="button" class="gk-tour-dates__more">{{ section.settings.more_label }}</button>
        </div>
      {% endif %}

    </div>

    {% if upcoming_count > initial_visible %}
      <script>
      (function () {
        var section = document.querySelector('[data-section-id="{{ section.id }}"]');
        if (!section) return;
        var rows = section.querySelectorAll('.gk-date-row');
        var btn  = section.querySelector('.gk-tour-dates__more');
        if (!btn || !rows.length) return;
        var initial = {{ initial_visible }};
        var step    = {{ reveal_step }};
        var shown   = Math.min(initial, rows.length);
        function render() {
          rows.forEach(function (row, idx) {
            row.style.display = (idx < shown) ? '' : 'none';
          });
          btn.style.display = (shown >= rows.length) ? 'none' : '';
        }
        render();
        btn.addEventListener('click', function () {
          shown = Math.min(shown + step, rows.length);
          render();
        });
      })();
      </script>
    {% endif %}
  </section>

{%- else -%}

  {%- comment -%}─── DATES PAGE STYLE ────────────────────────────────────────{%- endcomment -%}
  <section class="gk-dates" data-section-id="{{ section.id }}">
    <div class="gk-dates__inner">

      {% if section.settings.eyebrow != blank %}
        <div class="gk-dates__eyebrow">{{ section.settings.eyebrow }}</div>
      {% endif %}

      {% if section.settings.heading != blank %}
        <h2 class="gk-dates__heading">{{ section.settings.heading }}</h2>
      {% endif %}

      {% if section.settings.subtext != blank %}
        <div class="gk-dates__subtext">{{ section.settings.subtext }}</div>
      {% endif %}

      <div
        class="gk-dates__list"
        role="list"
        data-visible-count="{{ initial_visible }}"
        data-reveal-step="{{ reveal_step }}"
      >
        {%- assign render_index = 0 -%}
        {%- for block in section.blocks -%}
          {%- if block.type == 'date' -%}
            {%- assign raw_date = block.settings.date | strip -%}
            {%- if raw_date != blank -%}
              {%- assign show_ts = raw_date | date: '%s' | plus: 0 -%}
              {%- assign is_upcoming = false -%}
              {%- if show_ts == 0 or show_ts >= today_midnight_ts -%}
                {%- assign is_upcoming = true -%}
              {%- endif -%}
              {%- if is_upcoming -%}
                {%- assign display_date = raw_date | date: '%B %-d, %Y' -%}
                {%- if display_date == blank -%}{%- assign display_date = raw_date -%}{%- endif -%}
                {%- assign _bv = block.settings.venue | default: '' -%}
                {%- assign _bd = block.settings.descriptor | default: '' -%}
                {%- assign _bc = block.settings.city | default: '' -%}
                {%- assign _bs = block.settings.state | default: '' -%}
                {%- if _bc != blank and _bs != blank -%}
                  {%- assign _bcity = _bc | append: ', ' | append: _bs -%}
                {%- elsif _bc != blank -%}
                  {%- assign _bcity = _bc -%}
                {%- else -%}
                  {%- assign _bcity = _bs -%}
                {%- endif -%}
                {%- assign _bu   = block.settings.ticket_url | default: '' -%}
                {%- assign _sold = block.settings.sold_out -%}
                {%- assign extra_class = '' -%}
                {%- if render_index >= initial_visible -%}
                  {%- assign extra_class = ' is-hidden' -%}
                {%- endif -%}
                <div class="gk-date{{ extra_class }}" role="listitem" data-date-row data-index="{{ render_index }}" {{ block.shopify_attributes }}>
                  <div class="gk-date__date">{{ display_date }}</div>
                  <div class="gk-date__details">
                    {%- if _bv != blank -%}<div class="gk-date__venue">{{ _bv }}</div>{%- endif -%}
                    {%- if _bd != blank -%}<div class="gk-date__descriptor">{{ _bd }}</div>{%- endif -%}
                    {%- if _bcity != blank -%}<div class="gk-date__city">{{ _bcity }}</div>{%- endif -%}
                  </div>
                  <div class="gk-date__cta">
                    {%- if _sold -%}
                      <span class="gk-date__pill gk-date__pill--muted" aria-label="Sold out">SOLD OUT</span>
                    {%- elsif _bu != blank -%}
                      <a class="gk-date__pill gk-date__pill--accent" href="{{ _bu }}" target="_blank" rel="noopener">GET TICKETS</a>
                    {%- else -%}
                      <span class="gk-date__pill gk-date__pill--muted" aria-label="Tickets unavailable">TBA</span>
                    {%- endif -%}
                  </div>
                </div>
                {%- assign render_index = render_index | plus: 1 -%}
              {%- endif -%}
            {%- endif -%}
          {%- endif -%}
        {%- endfor -%}
      </div>

      {% if upcoming_count == 0 %}
        <div class="gk-dates__empty">{{ section.settings.empty_text }}</div>
      {% endif %}

      {% if upcoming_count > initial_visible %}
        <div class="gk-dates__controls">
          <button class="gk-dates__btn" type="button" data-dates-more>{{ section.settings.show_more_label }}</button>
          <button class="gk-dates__btn gk-dates__btn--ghost" type="button" data-dates-less hidden>{{ section.settings.show_less_label }}</button>
          {% if section.settings.view_all_url != blank %}
            <a class="gk-dates__btn gk-dates__btn--ghost" href="{{ section.settings.view_all_url }}">{{ section.settings.view_all_label }}</a>
          {% endif %}
        </div>
      {% elsif section.settings.view_all_url != blank %}
        <div class="gk-dates__controls">
          <a class="gk-dates__btn gk-dates__btn--ghost" href="{{ section.settings.view_all_url }}">{{ section.settings.view_all_label }}</a>
        </div>
      {% endif %}

    </div>
  </section>

  <script>
  (function() {
    var root = document.querySelector('.gk-dates[data-section-id="{{ section.id }}"]');
    if (!root) return;
    var list = root.querySelector('.gk-dates__list');
    if (!list) return;
    var rows = Array.prototype.slice.call(root.querySelectorAll('[data-date-row]'));
    if (!rows.length) return;
    var moreBtn = root.querySelector('[data-dates-more]');
    var lessBtn = root.querySelector('[data-dates-less]');
    var visibleCount = parseInt(list.getAttribute('data-visible-count') || '10', 10);
    var step = parseInt(list.getAttribute('data-reveal-step') || '10', 10);
    var shown = Math.min(visibleCount, rows.length);
    function apply() {
      rows.forEach(function(r, i) {
        if (i < shown) r.classList.remove('is-hidden');
        else r.classList.add('is-hidden');
      });
      if (moreBtn) moreBtn.hidden = (shown >= rows.length);
      if (lessBtn) lessBtn.hidden = (shown <= visibleCount);
    }
    if (moreBtn) {
      moreBtn.addEventListener('click', function() {
        shown = Math.min(shown + step, rows.length);
        apply();
      });
    }
    if (lessBtn) {
      lessBtn.addEventListener('click', function() {
        shown = Math.min(visibleCount, rows.length);
        apply();
        root.scrollIntoView({ behavior: 'smooth', block: 'start' });
      });
    }
    apply();
  })();
  </script>

{%- endif -%}

{% style %}
/* ── HOME STYLE (index template) ─────────────────────────── */
.gk-tour-dates {
  --bg: {{ section.settings.bg_color }};
  --text: #FFFFFF;
  --line: rgba(255,255,255,0.12);
  --muted: rgba(255,255,255,0.72);
  --accent: #E8690A;

  background: var(--bg);
  color: var(--text);
  padding: {{ section.settings.padding_top }}px 20px {{ section.settings.padding_bottom }}px;
}

.gk-tour-dates__inner {
  max-width: 1100px;
  margin: 0 auto;
}

.gk-tour-dates__eyebrow {
  font-family: "DM Mono", ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  text-transform: uppercase;
  letter-spacing: 0.16em;
  font-size: 12px;
  color: rgba(255,255,255,0.62);
  margin-bottom: 10px;
  text-align: {{ section.settings.text_align }};
}

.gk-tour-dates__heading {
  margin: 0 0 8px 0;
  font-family: "Bebas Neue", sans-serif;
  font-weight: 400;
  letter-spacing: 0.03em;
  line-height: 1;
  font-size: clamp(44px, 6vw, 76px);
  text-align: {{ section.settings.text_align }};
}

.gk-tour-dates__subtext {
  font-family: "DM Sans", system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
  font-size: 16px;
  color: var(--muted);
  margin-bottom: 22px;
  text-align: {{ section.settings.text_align }};
  max-width: 70ch;
}

.gk-tour-dates__list {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.gk-date-row {
  display: grid;
  grid-template-columns: minmax(160px, 220px) 1fr auto;
  gap: 16px;
  align-items: center;
  padding: 14px 16px;
  border: 1px solid var(--line);
  border-radius: 14px;
  background: rgba(0,0,0,0.22);
  box-shadow: 0 18px 40px rgba(0,0,0,0.28);
  transition: transform 160ms ease, border-color 160ms ease, background 160ms ease;
}

.gk-date-row:hover {
  transform: translateY(-1px);
  border-color: rgba(232,105,10,0.35);
  background: linear-gradient(180deg, rgba(232,105,10,0.14), rgba(0,0,0,0.18));
}

.gk-date-row__date {
  font-family: "Bebas Neue", sans-serif;
  font-weight: 400;
  letter-spacing: 0.02em;
  color: var(--accent);
  font-size: 28px;
  line-height: 1;
}

.gk-date-row__details {
  display: flex;
  flex-direction: column;
  gap: 4px;
  min-width: 0;
}

.gk-date-row__venue {
  font-family: "DM Sans", system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
  font-size: 18px;
  line-height: 1.2;
  color: #FFFFFF;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.gk-date-row__descriptor {
  font-family: "DM Sans", system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
  font-size: 12px;
  font-style: italic;
  color: rgba(255,255,255,0.50);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.gk-date-row__city {
  font-family: "DM Mono", ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  font-size: 12px;
  letter-spacing: 0.10em;
  text-transform: uppercase;
  color: rgba(255,255,255,0.72);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.gk-date-row__cta {
  display: flex;
  justify-content: flex-end;
}

.gk-date-row__btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 10px 14px;
  border-radius: 999px;
  background: var(--accent);
  color: #0D0D0D;
  text-decoration: none;
  font-family: "DM Mono", ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  font-size: 12px;
  letter-spacing: 0.10em;
  text-transform: uppercase;
  border: 1px solid var(--accent);
  transition: transform 140ms ease, opacity 140ms ease;
}

.gk-date-row__btn:hover { opacity: 0.92; transform: translateY(-1px); }
.gk-date-row__btn:active { transform: translateY(0); }

.gk-date-row__soldout {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 10px 14px;
  border-radius: 999px;
  font-family: "DM Mono", ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  font-size: 12px;
  letter-spacing: 0.10em;
  text-transform: uppercase;
  color: rgba(255,255,255,0.55);
  border: 1px solid rgba(255,255,255,0.18);
  background: rgba(0,0,0,0.18);
}

.gk-tour-dates__more-wrap {
  margin-top: 16px;
  display: flex;
  justify-content: {{ section.settings.text_align }};
}

.gk-tour-dates__more {
  appearance: none;
  border: 1px solid rgba(255,255,255,0.16);
  background: rgba(0,0,0,0.22);
  color: rgba(255,255,255,0.88);
  border-radius: 999px;
  padding: 12px 16px;
  font-family: "DM Mono", ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  font-size: 12px;
  letter-spacing: 0.10em;
  text-transform: uppercase;
  cursor: pointer;
  transition: transform 160ms ease, border-color 160ms ease, background 160ms ease;
}

.gk-tour-dates__more:hover {
  transform: translateY(-1px);
  border-color: rgba(232,105,10,0.30);
  background: rgba(0,0,0,0.34);
}

.gk-tour-dates__empty {
  margin-top: 18px;
  padding: 16px 0;
  border-top: 1px solid var(--line);
  font-family: "DM Sans", system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
  font-size: 16px;
  color: var(--muted);
}

@media (max-width: 720px) {
  .gk-date-row {
    grid-template-columns: 1fr;
    gap: 10px;
  }
  .gk-date-row__cta { justify-content: flex-start; }
  .gk-date-row__date { font-size: 30px; }
}

/* ── DATES PAGE STYLE (page.dates template) ───────────────── */
.gk-dates {
  --bg: {{ section.settings.bg_color }};
  --text: #fff;
  --muted: rgba(255,255,255,0.72);
  --line: rgba(255,255,255,0.10);
  --ring: rgba(255,255,255,0.12);
  --accent: {{ section.settings.accent_color }};
  --accentGlow: rgba(232,105,10,0.22);
  --accentGlowStrong: rgba(232,105,10,0.35);

  background: var(--bg);
  color: var(--text);
  padding: {{ section.settings.padding_top }}px 20px {{ section.settings.padding_bottom }}px;
}

.gk-dates__inner { max-width: 1100px; margin: 0 auto; }

.gk-dates__eyebrow {
  font-family: "DM Mono", ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  text-transform: uppercase;
  letter-spacing: 0.16em;
  font-size: 12px;
  color: rgba(255,255,255,0.62);
  margin-bottom: 10px;
  text-align: {{ section.settings.text_align }};
}

.gk-dates__heading {
  margin: 0;
  font-family: "Bebas Neue", sans-serif;
  font-weight: 400;
  letter-spacing: 0.03em;
  line-height: 1;
  font-size: clamp(44px, 6vw, 76px);
  text-align: {{ section.settings.text_align }};
}

.gk-dates__subtext {
  margin-top: 10px;
  font-family: "DM Sans", system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
  color: var(--muted);
  font-size: 16px;
  line-height: 1.4;
  max-width: 60ch;
  text-align: {{ section.settings.text_align }};
}

.gk-dates__list {
  margin-top: 26px;
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.gk-date {
  position: relative;
  display: grid;
  grid-template-columns: minmax(170px, 240px) 1fr auto;
  gap: 16px;
  align-items: center;
  padding: 18px 18px;
  border-radius: 18px;
  border: 1px solid var(--ring);
  background:
    radial-gradient(1200px 200px at 20% 0%, rgba(255,255,255,0.06), transparent 50%),
    linear-gradient(180deg, rgba(255,255,255,0.04), rgba(255,255,255,0.02));
  box-shadow: 0 18px 42px rgba(0,0,0,0.32);
  transition: transform 160ms ease, border-color 160ms ease, box-shadow 160ms ease;
}

.gk-date::before {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: 18px;
  pointer-events: none;
  opacity: 0;
  transition: opacity 160ms ease;
  background:
    radial-gradient(800px 160px at 20% 50%, var(--accentGlowStrong), transparent 65%),
    linear-gradient(90deg, rgba(232,105,10,0.10), rgba(232,105,10,0.00) 55%);
}

.gk-date:hover {
  transform: translateY(-1px);
  border-color: rgba(232,105,10,0.45);
  box-shadow:
    0 22px 58px rgba(0,0,0,0.40),
    0 0 0 1px rgba(232,105,10,0.18) inset;
}

.gk-date:hover::before { opacity: 1; }
.gk-date.is-hidden { display: none; }

.gk-date__date {
  font-family: "Bebas Neue", sans-serif;
  font-weight: 400;
  letter-spacing: 0.02em;
  color: var(--accent);
  font-size: 34px;
  line-height: 1;
  white-space: nowrap;
}

.gk-date__details { min-width: 0; display: flex; flex-direction: column; gap: 4px; }

.gk-date__venue {
  font-family: "DM Sans", system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
  font-size: 20px;
  line-height: 1.2;
  color: #fff;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.gk-date__descriptor {
  font-family: "DM Sans", system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
  font-size: 13px;
  font-style: italic;
  color: rgba(255,255,255,0.50);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.gk-date__city {
  font-family: "DM Mono", ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  font-size: 13px;
  letter-spacing: 0.10em;
  text-transform: uppercase;
  color: rgba(255,255,255,0.70);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.gk-date__cta { display: flex; justify-content: flex-end; }

.gk-date__pill {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-height: 44px;
  padding: 10px 18px;
  border-radius: 999px;
  font-family: "DM Mono", ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  font-size: 12px;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  text-decoration: none;
  border: 1px solid rgba(255,255,255,0.16);
  background: rgba(0,0,0,0.20);
  color: rgba(255,255,255,0.86);
  transition: transform 140ms ease, border-color 140ms ease, background 140ms ease, box-shadow 140ms ease;
}

.gk-date__pill--accent {
  background: rgba(232,105,10,0.90);
  border-color: rgba(232,105,10,0.90);
  color: #0D0D0D;
}

.gk-date__pill:hover {
  transform: translateY(-1px);
  border-color: rgba(255,255,255,0.26);
  background: rgba(0,0,0,0.28);
}

.gk-date__pill--accent:hover {
  background: rgba(232,105,10,0.98);
  border-color: rgba(232,105,10,0.98);
  box-shadow: 0 10px 26px rgba(232,105,10,0.28);
}

.gk-date__pill:focus-visible,
.gk-dates__btn:focus-visible {
  outline: 2px solid rgba(232,105,10,0.75);
  outline-offset: 3px;
}

.gk-dates__empty {
  margin-top: 18px;
  padding: 16px 0;
  border-top: 1px solid var(--line);
  font-family: "DM Sans", system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
  font-size: 16px;
  color: var(--muted);
}

.gk-dates__controls {
  margin-top: 18px;
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
}

.gk-dates__btn {
  cursor: pointer;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-height: 44px;
  padding: 10px 16px;
  border-radius: 999px;
  font-family: "DM Mono", ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  font-size: 12px;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  border: 1px solid rgba(255,255,255,0.16);
  background: rgba(232,105,10,0.90);
  color: #0D0D0D;
  text-decoration: none;
  transition: transform 140ms ease, opacity 140ms ease, border-color 140ms ease, background 140ms ease, box-shadow 140ms ease;
}

.gk-dates__btn:hover {
  transform: translateY(-1px);
  opacity: 0.96;
  box-shadow: 0 10px 26px rgba(232,105,10,0.20);
}

.gk-dates__btn:active { transform: translateY(0); }

.gk-dates__btn--ghost {
  background: rgba(0,0,0,0.22);
  color: rgba(255,255,255,0.86);
  border-color: rgba(255,255,255,0.16);
  box-shadow: none;
}

.gk-dates__btn--ghost:hover {
  background: rgba(0,0,0,0.30);
  border-color: rgba(255,255,255,0.26);
  box-shadow: none;
}

@media (max-width: 820px) {
  .gk-date {
    grid-template-columns: 1fr;
    gap: 10px;
    padding: 16px;
  }
  .gk-date__cta { justify-content: flex-start; }
  .gk-date__date { font-size: 32px; }
}
{% endstyle %}

{% schema %}
{
  "name": "GK Tour Dates",
  "settings": [
    { "type": "text",  "id": "eyebrow",        "label": "Eyebrow",                          "default": "Tour Dates" },
    { "type": "text",  "id": "heading",         "label": "Heading",                          "default": "GREG KOCH DATES" },
    { "type": "text",  "id": "subtext",         "label": "Subtext",                          "default": "See upcoming dates below." },
    { "type": "text",  "id": "empty_text",      "label": "Empty state text",                 "default": "No upcoming dates. Check back soon." },
    { "type": "text",  "id": "more_label",      "label": "Show more label (homepage)",       "default": "Show more dates" },
    { "type": "text",  "id": "show_more_label", "label": "Show more label (dates page)",     "default": "Show more dates" },
    { "type": "text",  "id": "show_less_label", "label": "Show fewer label (dates page)",    "default": "Show fewer dates" },
    { "type": "text",  "id": "view_all_label",  "label": "View all label",                   "default": "View all dates" },
    { "type": "url",   "id": "view_all_url",    "label": "View all URL" },
    {
      "type": "select", "id": "text_align", "label": "Text alignment", "default": "left",
      "options": [
        { "value": "left",   "label": "Left" },
        { "value": "center", "label": "Center" },
        { "value": "right",  "label": "Right" }
      ]
    },
    { "type": "color", "id": "bg_color",     "label": "Background color", "default": "#0D0D0D" },
    { "type": "color", "id": "accent_color", "label": "Accent color",     "default": "#E8690A" },
    { "type": "range", "id": "padding_top",    "label": "Padding top",    "min": 0, "max": 120, "step": 4, "default": 64 },
    { "type": "range", "id": "padding_bottom", "label": "Padding bottom", "min": 0, "max": 120, "step": 4, "default": 64 }
  ],
  "blocks": [
    {
      "type": "date",
      "name": "Tour Date",
      "settings": [
        {
          "type": "text",
          "id": "date",
          "label": "Date",
          "info": "Use YYYY-MM-DD format for reliable sorting/filtering. Example: 2026-04-22"
        },
        {
          "type": "text",
          "id": "descriptor",
          "label": "Descriptor (optional)",
          "info": "Shown in italics under venue. Example: support for Paul Gilbert"
        },
        { "type": "text", "id": "venue",      "label": "Venue" },
        { "type": "text", "id": "city",       "label": "City" },
        { "type": "text", "id": "state",      "label": "State / Region" },
        { "type": "url",  "id": "ticket_url", "label": "Ticket URL (leave blank for TBA)" },
        { "type": "checkbox", "id": "sold_out", "label": "Sold out", "default": false }
      ]
    }
  ],
  "presets": [
    { "name": "GK Tour Dates" }
  ]
}
{% endschema %}
